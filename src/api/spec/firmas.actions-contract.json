{
  "resource": "firmas",
  "type": "Server Actions",
  "actions": [
    {
      "name": "guardarFirma",
      "description": "Valida y guarda una nueva firma en el array global. Revalida las rutas principales.",
      "input": {
        "type": "firmaRequest",
        "fields": {
          "nombre": "string",
          "mensaje": "string"
        }
      },
      "output": {
        "success": "firma (objeto con id, nombre, mensaje, fechaRegistro)",
        "error": "errorRes (objeto con code, message y details)"
      },
      "validation_rules": {
        "nombre": "Obligatorio. Retorna BAD_REQUEST si está ausente.",
        "mensaje": "Obligatorio. Retorna BAD_REQUEST si está ausente."
      },
      "sideEffects": {
        "revalidatePath": ["/", "/asistencia"]
      }
    },
    {
      "name": "getAsistencias",
      "description": "Mapea el array de firmas para extraer únicamente los datos de identidad y registro.",
      "input": "void",
      "output": "asistencia[] (id, nombre, fechaRegistro)"
    },
    {
      "name": "getFirmas",
      "description": "Retorna la totalidad del array de firmas.",
      "input": "void",
      "output": "firma[]"
    }
  ],
  "error_shapes": {
    "BAD_REQUEST": {
      "code": "BAD_REQUEST",
      "message": "Petición mal hecha",
      "details": {
        "nombre": "Este campo es obligatorio",
        "mensaje": "Este campo es obligatorio"
      }
    }
  }
}